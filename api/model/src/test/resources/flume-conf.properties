# Agent components
a.sources=src
a.channels=streamingChan
a.channels=mongoChannel
a.sinks=streamingSink
a.sinks=mongoSink

# Sources
a.sources.src.type=spoolDir
a.sources.src.spoolDir=data/spooldir
a.sources.src.fileHeader=true
a.sources.src.batchSize=100
a.sources.src.deserializer=LINE
a.sources.src.deserializer.decodeErrorPolicy=REPLACE

# Interceptors
a.sources.src.interceptors=morphline
a.sources.src.interceptors.morphline.type=org.apache.flume.sink.solr.morphline.MorphlineInterceptor$Builder
a.sources.src.interceptors.morphline.morphlineFile=conf/interceptor.conf
a.sources.src.intercepts.morphline.morphlineId=bluuMorphline

# Channels
a.channels.streamingChan.type=memory
a.channels.streamingChan.capacity=100000
a.channels.streamingChan.transactionCapacity=1000

a.channels.mongoChannel.type=memory
a.channels.mongoChannel.capacity=1000000
a.channels.mongoChannel.transactionCapacity=10000

# Sinks
a.sinks.streamingSink.type=com.stratio.ingestion.sink.stratiostreaming.StratioStreamingSink
#a.sinks.streamingSink.kafka=localhost:9092
#a.sinks.streamingSink.zookeeper=localhost:2181
a.sinks.streamingSink.kafka=172.31.16.44:9092
a.sinks.streamingSink.zookeeper=172.31.16.44:2181
a.sinks.streamingSink.streamDefinitionFile=/opt/sds/ingestion/examples/bluu/conf/stream.conf
a.sinks.streamingSink.batchSize=1000

a.sinks.mongoSink.type = com.stratio.ingestion.sink.mongodb.MongoSink
a.sinks.mongoSink.mongoUri = mongodb://127.0.0.1:27017/bluu_demo.coll1
#a.sinks.mongoSink.mongoUri = mongodb://172.31.16.44:27017/bluu_demo.coll1
a.sinks.mongoSink.dynamic = false
a.sinks.mongoSink.batchSize = 100
a.sinks.mongoSink.mappingFile = conf/mongo_schema.json

# Component wiring
a.sources.src.channels=streamingChan
a.sources.src.channels=mongoChannel
a.sinks.streamingSink.channel=streamingChan
a.sinks.mongoSink.channel=mongoChannel