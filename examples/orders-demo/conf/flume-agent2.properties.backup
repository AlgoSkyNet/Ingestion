# Name the components on this agent

#a2.sources = spoolSource
a2.sources = avroSource #spoolSource
a2.sinks = streamingSink hdfsSink
a2.channels = hdfsChannel streamingChannel

# Describe the source
a2.sources.spoolSource.type=spooldir
a2.sources.spoolSource.spoolDir=data/input/
a2.sources.spoolSource.batchSize=100

a2.sources.avroSource.type = avro
a2.sources.avroSource.bind = 0.0.0.0
a2.sources.avroSource.port = 4145


a2.sinks.streamingSink.type=com.stratio.ingestion.sink.stratiostreaming.StratioStreamingSink
a2.sinks.streamingSink.kafka=localhost:9092
a2.sinks.streamingSink.zookeeper=localhost:2181
a2.sinks.streamingSink.streamDefinitionFile=conf/stream-products.conf

a2.sinks.hdfsSink.type = hdfs
a2.sinks.hdfsSink.hdfs.path = hdfs://52.2.149.89:8020/user/stratio/products
a2.sinks.hdfsSink.hdfs.useLocalTimeStamp = true
a2.sinks.hdfsSink.hdfs.batchSize = 10000
a2.sinks.hdfsSink.hdfs.fileType = DataStream
a2.sinks.hdfsSink.hdfs.rollCount = 0
a2.sinks.hdfsSink.hdfs.rollSize = 10737418240
a2.sinks.hdfsSink.hdfs.rollInterval = 216000

a2.channels.streamingChannel.type=memory
a2.channels.streamingChannel.capacity = 1000
a2.channels.streamingChannel.transactionCapacity = 100

a2.channels.hdfsSink.type=memory
a2.channels.hdfsSink.capacity = 1000
a2.channels.hdfsSink.transactionCapacity = 100


a2.sources.spoolSource.channels = hdfsChannel streamingChannel
a2.sources.avroSource.channels = hdfsChannel streamingChannel


a2.sinks.hdfsSink.channel= streamingChannel
a2.sinks.cassandraSink.channel= cassandraChannel


